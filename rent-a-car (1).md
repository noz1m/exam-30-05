# üèéÔ∏è –ó–∞–¥–∞–Ω–∏–µ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é API –¥–ª—è Rent-a-Car

## üéØ –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞ –∞—Ä–µ–Ω–¥—ã –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º C# –∏ Entity Framework Core. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL, –∑–∞–¥–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –º–æ–¥–µ–ª–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DTO, –ø–æ–¥–∫–ª—é—á–∏—Ç—å Swagger –∏ –¥–æ–±–∞–≤–∏—Ç—å 10 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å JOIN-–∞–º–∏.

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
1. **Domain** ‚Äî –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö.  
2. **Infrastructure** ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç EF Core, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –º–∏–≥—Ä–∞—Ü–∏–∏.  
3. **WebAPI** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Swagger.

---

## 1. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### üë§ User (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
| –ü–æ–ª–µ          | –¢–∏–ø            | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Å–≤–æ–π—Å—Ç–≤–∞                             |
|---------------|----------------|----------------------------------------------------|
| `Id`          | `int`          | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á                                     |
| `Username`    | `string`       | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ**, —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ, –º–∞–∫—Å. –¥–ª–∏–Ω–∞ 50      |
| `Email`       | `string`       | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ**, –º–∞–∫—Å. –¥–ª–∏–Ω–∞ 100                 |
| `Phone`       | `string`       | –ú–∞–∫—Å. –¥–ª–∏–Ω–∞ 20                                    |

---

### üöó Car (–ê–≤—Ç–æ–º–æ–±–∏–ª—å)
| –ü–æ–ª–µ          | –¢–∏–ø            | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Å–≤–æ–π—Å—Ç–≤–∞                             |
|---------------|----------------|----------------------------------------------------|
| `Id`          | `int`          | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á                                     |
| `Model`       | `string`       | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ**, –º–∞–∫—Å. –¥–ª–∏–Ω–∞ 100                 |
| `PricePerDay` | `decimal`      | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ**, –±–æ–ª—å—à–µ 0                        |
| `IsAvailable` | `bool`         | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `true`                               |

---

### üìÖ Booking (–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
| –ü–æ–ª–µ          | –¢–∏–ø            | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Å–≤–æ–π—Å—Ç–≤–∞                             |
|---------------|----------------|----------------------------------------------------|
| `Id`          | `int`          | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á                                     |
| `UserId`      | `int`          | –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á (—Å—Å—ã–ª–∫–∞ –Ω–∞ `User`)                   |
| `CarId`       | `int`          | –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á (—Å—Å—ã–ª–∫–∞ –Ω–∞ `Car`)                    |
| `StartDate`   | `DateTime`     | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ**                                  |
| `EndDate`     | `DateTime`     | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ**, –±–æ–ª—å—à–µ `StartDate`              |
| `TotalPrice`  | `decimal`      | –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ `(EndDate - StartDate) * PricePerDay` |

---

## 2. CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ üõ†Ô∏è
–°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã:  
- `UsersController`  
- `CarsController`  
- `BookingsController`  

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã:  
- `GET /users`, `GET /users/{id}` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ ID.  
- `POST /users` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  
- `PUT /users/{id}` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  
- `DELETE /users/{id}` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è `Cars` –∏ `Bookings`.

---

## 3. DTO
–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å DTO –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏:  

### `UserDto`
- `Id` (int)  
- `Username` (string)  
- `Email` (string)  
- `BookingCount` (int) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π  

### `CarDto`
- `Id` (int)  
- `Model` (string)  
- `PricePerDay` (decimal)  
- `IsAvailable` (bool)  
- `BookingCount` (int) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π  

### `BookingDto`
- `Id` (int)  
- `UserId` (int)  
- `Username` (string) ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- `CarId` (int)  
- `CarModel` (string) ‚Äî –º–æ–¥–µ–ª—å –º–∞—à–∏–Ω—ã  
- `StartDate` (DateTime)  
- `EndDate` (DateTime)  
- `TotalPrice` (decimal)  

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ DTO –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤.

---

## 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (5 –∑–∞–ø—Ä–æ—Å–æ–≤) üéØ

1. **GET /cars/available-now**  
   - –û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–∞—à–∏–Ω (–±–µ–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç).  
   - DTO: `AvailableCarDto`  
     - `Model` (string)  
     - `PricePerDay` (decimal)  

2. **GET /cars/most-popular**  
   - –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç 3 –º–∞—à–∏–Ω—ã —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º —á–∏—Å–ª–æ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π.  
   - DTO: `PopularCarDto`  
     - `Model` (string)  
     - `BookingCount` (int)  

3. **GET /users/frequent-renters**  
   - –û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –±–æ–ª–µ–µ —á–µ–º 3 –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏.  
   - DTO: `FrequentRenterDto`  
     - `Username` (string)  
     - `BookingCount` (int)  

4. **GET /bookings/active**  
   - –û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–≥–¥–µ —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ –º–µ–∂–¥—É `StartDate` –∏ `EndDate`).  
   - DTO: `ActiveBookingDto`  
     - `CarModel` (string)  
     - `Username` (string)  
     - `EndDate` (DateTime)  

5. **GET /cars/{id}/booking-details**  
   - –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–∞—à–∏–Ω—ã –ø–æ id —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  
   - DTO: `CarBookingDetailsDto`  
     - `Username` (string)  
     - `StartDate` (DateTime)  
     - `EndDate` (DateTime)  
     - `TotalPrice` (decimal)  

---

## –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –†–∞–∑–¥–µ–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–ª–æ–∏: `Domain`, `Infrastructure`, `WebAPI`.  
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Å–≤—è–∑–∏.  
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API —á–µ—Ä–µ–∑ Swagger.
